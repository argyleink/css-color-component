/* color-input web component - https://github.com/pops/css-color-component */
var ColorInput=function(e){"use strict";var t,n,r,a,o,i,s,l,c,h,u,p,d,g,f,m,b,v,y,w,k,M,x,$,S,C,L,A,B,R,E,z,W,H,P,q,I,j,T,O,N,D=Object.defineProperty,G=e=>{throw TypeError(e)},Z=(e,t,n)=>((e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),_=(e,t,n)=>t.has(e)||G("Cannot "+n),F=(e,t,n)=>(_(e,t,"read from private field"),n?n.call(e):t.get(e)),X=(e,t,n)=>t.has(e)?G("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Y=(e,t,n,r)=>(_(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),J=(e,t,n)=>(_(e,t,"access private method"),n),V=Symbol.for("preact-signals");function U(){if(te>1)te--;else{for(var e,t=!1;void 0!==ee;){var n=ee;for(ee=void 0,ne++;void 0!==n;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&se(n))try{n.c()}catch(a){t||(e=a,t=!0)}n=r}}if(ne=0,te--,t)throw e}}var Q=void 0;function K(e){var t=Q;Q=void 0;try{return e()}finally{Q=t}}var ee=void 0,te=0,ne=0,re=0;function ae(e){if(void 0!==Q){var t=e.n;if(void 0===t||t.t!==Q)return t={i:0,S:e,p:Q.s,n:void 0,t:Q,e:void 0,x:void 0,r:t},void 0!==Q.s&&(Q.s.n=t),Q.s=t,e.n=t,32&Q.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=Q.s,t.n=void 0,Q.s.n=t,Q.s=t),t}}function oe(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function ie(e,t){return new oe(e,t)}function se(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function le(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function ce(e){for(var t=e.s,n=void 0;void 0!==t;){var r=t.p;-1===t.i?(t.S.U(t),void 0!==r&&(r.n=t.n),void 0!==t.n&&(t.n.p=r)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=r}e.s=n}function he(e,t){oe.call(this,void 0),this.x=e,this.s=void 0,this.g=re-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function ue(e,t){return new he(e,t)}function pe(e){var t=e.u;if(e.u=void 0,"function"==typeof t){te++;var n=Q;Q=void 0;try{t()}catch(r){throw e.f&=-2,e.f|=8,de(e),r}finally{Q=n,U()}}}function de(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,pe(e)}function ge(e){if(Q!==this)throw new Error("Out-of-order effect");ce(this),Q=e,this.f&=-2,8&this.f&&de(this),U()}function fe(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name}function me(e,t){var n=new fe(e,t);try{n.c()}catch(a){throw n.d(),a}var r=n.d.bind(n);return r[Symbol.dispose]=r,r}function be(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ve(e,t,n=[0,0,0]){const r=be(e,t[0]),a=be(e,t[1]),o=be(e,t[2]);return n[0]=r,n[1]=a,n[2]=o,n}function ye(e){return"string"===we(e)}function we(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function ke(e,{precision:t=16,unit:n}){return Me(e)?"none":(e=+xe(e,t))+(null!=n?n:"")}function Me(e){return null===e}function xe(e,t){if(0===e)return 0;let n=~~e,r=0;n&&t&&(r=1+~~Math.log10(Math.abs(n)));const a=10**(t-r);return Math.floor(e*a+.5)/a}function $e(e,t,n){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*n}function Se(e,t,n){return!e||!t||e===t||e[0]===t[0]&&e[1]===t[1]||isNaN(n)||null===n?n:$e(t[0],t[1],function(e,t,n){return(n-e)/(t-e)}(e[0],e[1],n))}function Ce(e,t,n){return Math.max(Math.min(n,t),e)}function Le(e,t){return Math.sign(e)===Math.sign(t)?e:-e}function Ae(e,t){return Le(Math.abs(e)**t,e)}function Be(e,t){return 0===t?0:e/t}function Re(e,t){var n;if(e instanceof t)return!0;const r=t.name;for(;e;){const t=Object.getPrototypeOf(e),a=null==(n=null==t?void 0:t.constructor)?void 0:n.name;if(a===r)return!0;if(!a||"Object"===a)return!1;e=t}return!1}oe.prototype.brand=V,oe.prototype.h=function(){return!0},oe.prototype.S=function(e){var t=this,n=this.t;n!==e&&void 0===e.e&&(e.x=n,this.t=e,void 0!==n?n.e=e:K(function(){var e;null==(e=t.W)||e.call(t)}))},oe.prototype.U=function(e){var t=this;if(void 0!==this.t){var n=e.e,r=e.x;void 0!==n&&(n.x=r,e.e=void 0),void 0!==r&&(r.e=n,e.x=void 0),e===this.t&&(this.t=r,void 0===r&&K(function(){var e;null==(e=t.Z)||e.call(t)}))}},oe.prototype.subscribe=function(e){var t=this;return me(function(){var n=t.value,r=Q;Q=void 0;try{e(n)}finally{Q=r}},{name:"sub"})},oe.prototype.valueOf=function(){return this.value},oe.prototype.toString=function(){return this.value+""},oe.prototype.toJSON=function(){return this.value},oe.prototype.peek=function(){var e=Q;Q=void 0;try{return this.value}finally{Q=e}},Object.defineProperty(oe.prototype,"value",{get:function(){var e=ae(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(ne>100)throw new Error("Cycle detected");this.v=e,this.i++,re++,te++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{U()}}}}),he.prototype=new oe,he.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===re)return!0;if(this.g=re,this.f|=1,this.i>0&&!se(this))return this.f&=-2,!0;var e=Q;try{le(this),Q=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return Q=e,ce(this),this.f&=-2,!0},he.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}oe.prototype.S.call(this,e)},he.prototype.U=function(e){if(void 0!==this.t&&(oe.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},he.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(he.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=ae(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),fe.prototype.c=function(){var e=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},fe.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,pe(this),le(this),te++;var e=Q;return Q=this,ge.bind(this,e)},fe.prototype.N=function(){2&this.f||(this.f|=2,this.o=ee,ee=this)},fe.prototype.d=function(){this.f|=8,1&this.f||de(this)},fe.prototype.dispose=function(){this.d()};class Ee{constructor(e,t){var n;if(Z(this,"type"),Z(this,"coordMeta"),Z(this,"coordRange"),Z(this,"range"),"object"==typeof e&&(this.coordMeta=e),t&&(this.coordMeta=t,this.coordRange=null!=(n=t.range)?n:t.refRange),"string"==typeof e){let t=e.trim().match(/^(?<type><[a-z]+>)(\[(?<min>-?[.\d]+),\s*(?<max>-?[.\d]+)\])?$/);if(!t)throw new TypeError(`Cannot parse ${e} as a type definition.`);this.type=t.groups.type;let{min:n,max:r}=t.groups;(n||r)&&(this.range=[+n,+r])}}get computedRange(){return this.range?this.range:"<percentage>"===this.type?this.percentageRange():"<angle>"===this.type?[0,360]:null}get unit(){return"<percentage>"===this.type?"%":"<angle>"===this.type?"deg":""}resolve(e){if("<angle>"===this.type)return e;let t=this.computedRange,n=this.coordRange;return"<percentage>"===this.type&&(null!=n||(n=this.percentageRange())),Se(t,n,e)}serialize(e,t){let n="<percentage>"===this.type?this.percentageRange(100):this.computedRange,r=this.unit;return ke(e=Se(this.coordRange,n,e),{unit:r,precision:t})}toString(){let e=this.type;if(this.range){let[t="",n=""]=this.range;e+=`[${t},${n}]`}return e}percentageRange(e=1){let t;return t=this.coordMeta&&this.coordMeta.range||this.coordRange&&this.coordRange[0]>=0?[0,1]:[-1,1],[t[0]*e,t[1]*e]}static get(e,t){return Re(e,this)?e:new this(e,t)}}const ze=Symbol("instance");class We{constructor(e,t=e.space){Z(this,"type"),Z(this,"name"),Z(this,"spaceCoords"),Z(this,"coords"),Z(this,"id"),Z(this,"alpha"),e[ze]=this,this.type="function",this.name="color",Object.assign(this,e),this.space=t,"custom"!==this.type&&(this.spaceCoords=Object.values(t.coords),this.coords||(this.coords=this.spaceCoords.map(e=>{let t=["<number>","<percentage>"];return"angle"===e.type&&t.push("<angle>"),t})),this.coords=this.coords.map((e,t)=>{let n=this.spaceCoords[t];return"string"==typeof e&&(e=e.trim().split(/\s*\|\s*/)),e.map(e=>Ee.get(e,n))}))}serializeCoords(e,t,n){return n=e.map((e,t)=>{var r;return Ee.get(null!=(r=null==n?void 0:n[t])?r:this.coords[t][0],this.spaceCoords[t])}),e.map((e,r)=>n[r].serialize(e,t))}coerceCoords(e,t){return Object.entries(this.space.coords).map(([n,r],a)=>{var o;let i=e[a];if(Me(i)||isNaN(i))return i;let s=t[a],l=this.coords[a].find(e=>e.type==s);if(!l){let e=r.name||n;throw new TypeError(`${null!=(o=null!=s?s:null==i?void 0:i.raw)?o:i} not allowed for ${e} in ${this.name}()`)}return i=l.resolve(i),l.range&&(t[a]=l.toString()),i})}canSerialize(){return"function"===this.type||this.serialize}parse(e){return null}static get(e,...t){return!e||Re(e,this)?e:e[ze]?e[ze]:new We(e,...t)}}const He=new class{add(e,t,n){if("string"==typeof arguments[0])(Array.isArray(e)?e:[e]).forEach(function(e){this[e]=this[e]||[],t&&this[e][n?"unshift":"push"](t)},this);else for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1])}run(e,t){this[e]=this[e]||[],this[e].forEach(function(e){e.call(t&&t.context?t.context:t,t)})}},Pe={D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]};function qe(e){return Array.isArray(e)?e:Pe[e]}function Ie(e,t,n,r={}){if(e=qe(e),t=qe(t),!e||!t)throw new TypeError(`Missing white point to convert ${e?"":"from"}${e||t?"":"/"}${t?"":"to"}`);if(e===t)return n;let a={W1:e,W2:t,XYZ:n,options:r};if(He.run("chromatic-adaptation-start",a),a.M||(a.W1===Pe.D65&&a.W2===Pe.D50?a.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:a.W1===Pe.D50&&a.W2===Pe.D65&&(a.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),He.run("chromatic-adaptation-end",a),a.M)return ve(a.XYZ,a.M);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const je={gamut_mapping:"css",precision:5,deltaE:"76",verbose:"test"!==(null==(r=null==(n=null==(t=null==globalThis?void 0:globalThis.process)?void 0:t.env)?void 0:n.NODE_ENV)?void 0:r.toLowerCase()),warn:function(e){var t,n;this.verbose&&(null==(n=null==(t=null==globalThis?void 0:globalThis.console)?void 0:t.warn)||n.call(t,e))}};function Te(e,t){var n,r,a,o;let i,s={str:null==(n=String(e))?void 0:n.trim(),options:t};if(He.run("parse-start",s),s.color)return s.color;s.parsed=function(e){if(!e)return;let t=(e=e.trim()).match(Ne.function);if(t){let e=[],n=[],r=!1,a=t[1].toLowerCase(),o=t[2].replace(Ne.singleArgument,(t,o)=>{let{value:i,meta:s}=function(e){var t;let n={},r=null==(t=e.match(Ne.unitValue))?void 0:t[0],a=n.raw=e;return r?(n.type="%"===r?"<percentage>":"<angle>",n.unit=r,n.unitless=Number(a.slice(0,-r.length)),a=n.unitless*Oe[r]):Ne.number.test(a)?(a=Number(a),n.type="<number>"):"none"===a?a=null:"NaN"===a||"calc(NaN)"===a?(a=NaN,n.type="<number>"):n.type="<ident>",{value:a,meta:n}}(o);return(t.startsWith("/")||"color"!==a&&3===e.length)&&(r=!0),e.push(i),n.push(s),""});return{name:a,args:e,argMeta:n,lastAlpha:r,commas:o.includes(","),rawName:t[1],rawArgs:t[2]}}}(s.str);let l=s.options?null!=(r=s.options.parseMeta)?r:s.options.meta:null;if(s.parsed){let t,n,r=s.parsed.name,c=s.parsed.args,h=c.map((e,t)=>{var n;return null==(n=s.parsed.argMeta[t])?void 0:n.type});if("color"===r){let i=c.shift();h.shift();let l=i.startsWith("--")?i.substring(2):`--${i}`,u=[i,l];if(t=Ze.findFormat({name:r,id:u,type:"function"}),!t){let t,n=i in Ze.registry?i:l;if(n in Ze.registry){let r=null==(o=null==(a=Ze.registry[n].formats)?void 0:a.color)?void 0:o.id;r&&(t=`Did you mean ${e.replace("color("+i,"color("+r)}?`)}throw new TypeError(`Cannot parse ${s.str}. `+(null!=t?t:"Missing a plugin?"))}n=t.space,t.id.startsWith("--")&&!i.startsWith("--")&&je.warn(`${n.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${t.id}) instead of color(${i}).`),i.startsWith("--")&&!t.id.startsWith("--")&&je.warn(`${n.name} is a standard space and supported in the CSS spec. Use color(${t.id}) instead of prefixed color(${i}).`)}else t=Ze.findFormat({name:r,type:"function"}),n=t.space;l&&Object.assign(l,{format:t,formatId:t.name,types:h,commas:s.parsed.commas});let u=1;s.parsed.lastAlpha&&(u=s.parsed.args.pop(),l&&(l.alphaType=h.pop()));let p=t.coords.length;if(c.length!==p)throw new TypeError(`Expected ${p} coordinates for ${n.id} in ${s.str}), got ${c.length}`);c=t.coerceCoords(c,h),i={spaceId:n.id,coords:c,alpha:u}}else e:for(let c of Ze.all)for(let e in c.formats){let t=c.formats[e];if("custom"!==t.type)continue;if(t.test&&!t.test(s.str))continue;let n=c.getFormat(t),r=n.parse(s.str);if(r){l&&Object.assign(l,{format:n,formatId:e}),i=r;break e}}if(!i)throw new TypeError(`Could not parse ${e} as a color. Missing a plugin?`);return i.alpha=Me(i.alpha)?i.alpha:void 0===i.alpha?1:Ce(0,i.alpha,1),i}const Oe={"%":.01,deg:1,grad:.9,rad:180/Math.PI,turn:360},Ne={function:/^([a-z]+)\(((?:calc\(NaN\)|.)+?)\)$/i,number:/^([-+]?(?:[0-9]*\.)?[0-9]+(e[-+]?[0-9]+)?)$/i,unitValue:RegExp(`(${Object.keys(Oe).join("|")})$`),singleArgument:/\/?\s*(none|NaN|calc\(NaN\)|[-+\w.]+(?:%|deg|g?rad|turn)?)/g};function De(e,t){if(Array.isArray(e))return e.map(e=>De(e,t));if(!e)throw new TypeError("Empty color reference");ye(e)&&(e=Te(e,t));let n=e.space||e.spaceId;return"string"==typeof n&&(e.space=Ze.get(n)),void 0===e.alpha&&(e.alpha=1),e}const Ge=class e{constructor(t){var n,r,a,o,i,s;this.id=t.id,this.name=t.name,this.base=t.base?e.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let l=null!=(n=t.coords)?n:this.base.coords;for(let e in l)"name"in l[e]||(l[e].name=e);this.coords=l;let c=null!=(a=null!=(r=t.white)?r:this.base.white)?a:"D65";this.white=qe(c),this.formats=null!=(o=t.formats)?o:{};for(let e in this.formats){let t=this.formats[e];t.type||(t.type="function"),t.name||(t.name=e)}(null==(i=this.formats.color)?void 0:i.id)||(this.formats.color={...null!=(s=this.formats.color)?s:{},id:t.cssId||this.id}),t.gamutSpace?this.gamutSpace="self"===t.gamutSpace?this:e.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(e,t)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:_e(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),He.run("colorspace-init-end",this)}inGamut(e,{epsilon:t=75e-6}={}){if(!this.equals(this.gamutSpace))return e=this.to(this.gamutSpace,e),this.gamutSpace.inGamut(e,{epsilon:t});let n=Object.values(this.coords);return e.every((e,r)=>{let a=n[r];if("angle"!==a.type&&a.range){if(Me(e))return!0;let[n,r]=a.range;return(void 0===n||e>=n-t)&&(void 0===r||e<=r+t)}return!0})}get isUnbounded(){return Object.values(this.coords).every(e=>!("range"in e))}get cssId(){var e,t;return(null==(t=null==(e=this.formats)?void 0:e.color)?void 0:t.id)||this.id}get isPolar(){for(let e in this.coords)if("angle"===this.coords[e].type)return!0;return!1}getFormat(e){if(!e)return null;"default"===e?e=Object.values(this.formats)[0]:"string"==typeof e&&(e=this.formats[e]);let t=We.get(e,this);return t!==e&&e.name in this.formats&&(this.formats[e.name]=t),t}equals(e){return!!e&&(this===e||this.id===e||this.id===e.id)}to(t,n){if(1===arguments.length){const e=De(t);[t,n]=[e.space,e.coords]}if(t=e.get(t),this.equals(t))return n;n=n.map(e=>Me(e)?0:e);let r,a,o=this.path,i=t.path;for(let e=0;e<o.length&&o[e].equals(i[e]);e++)r=o[e],a=e;if(!r)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let e=o.length-1;e>a;e--)n=o[e].toBase(n);for(let e=a+1;e<i.length;e++)n=i[e].fromBase(n);return n}from(t,n){if(1===arguments.length){const e=De(t);[t,n]=[e.space,e.coords]}return(t=e.get(t)).to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){var e;let t=[];for(let n in this.coords){let r=this.coords[n],a=r.range||r.refRange;t.push(null!=(e=null==a?void 0:a.min)?e:0)}return t}static get all(){return[...new Set(Object.values(e.registry))]}static register(e,t){if(1===arguments.length&&(e=(t=arguments[0]).id),t=this.get(t),this.registry[e]&&this.registry[e]!==t)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=t,1===arguments.length&&t.aliases)for(let n of t.aliases)this.register(n,t);return t}static get(t,...n){if(!t||Re(t,this))return t;if("string"===we(t)){let n=e.registry[t.toLowerCase()];if(!n)throw new TypeError(`No color space found with id = "${t}"`);return n}if(n.length)return e.get(...n);throw new TypeError(`${t} is not a valid color space`)}static findFormat(t,n=e.all){if(!t)return null;"string"==typeof t&&(t={name:t});for(let e of n)for(let[n,r]of Object.entries(e.formats)){null!=r.name||(r.name=n),null!=r.type||(r.type="function");let a=!(t.name&&r.name!==t.name||t.type&&r.type!==t.type);if(t.id){let e=r.ids||[r.id],n=Array.isArray(t.id)?t.id:[t.id];a&&(a=n.some(t=>e.includes(t)))}if(a){let t=We.get(r,e);return t!==r&&(e.formats[r.name]=t),t}}return null}static resolveCoord(t,n){var r;let a,o,i=we(t);if("string"===i?t.includes(".")?[a,o]=t.split("."):[a,o]=[,t]:Array.isArray(t)?[a,o]=t:(a=t.space,o=t.coordId),a=e.get(a),a||(a=n),!a)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(i=we(o),"number"===i||"string"===i&&o>=0){let e=Object.entries(a.coords)[o];if(e)return{space:a,id:e[0],index:o,...e[1]}}a=e.get(a);let s=o.toLowerCase(),l=0;for(let e in a.coords){let t=a.coords[e];if(e.toLowerCase()===s||(null==(r=t.name)?void 0:r.toLowerCase())===s)return{space:a,id:e,index:l,...t};l++}throw new TypeError(`No "${o}" coordinate found in ${a.name}. Its coordinates are: ${Object.keys(a.coords).join(", ")}`)}};Z(Ge,"registry",{}),Z(Ge,"DEFAULT_FORMAT",{type:"functions",name:"color"});let Ze=Ge;function _e(e){let t=[e];for(let n=e;n=n.base;)t.push(n);return t}const Fe=new Ze({id:"xyz-d65",name:"XYZ D65",coords:{x:{refRange:[0,1],name:"X"},y:{refRange:[0,1],name:"Y"},z:{refRange:[0,1],name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class Xe extends Ze{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=Fe),e.toXYZ_M&&e.fromXYZ_M&&(null!=e.toBase||(e.toBase=t=>{let n=ve(t,e.toXYZ_M);return this.white!==this.base.white&&(n=Ie(this.white,this.base.white,n)),n}),null!=e.fromBase||(e.fromBase=t=>ve(t=Ie(this.base.white,this.white,t),e.fromXYZ_M))),null!=e.referred||(e.referred="display"),super(e)}}function Ye(e,t){e=De(e);let n,r=Ze.get(t,null==t?void 0:t.space),a=null==t?void 0:t.precision;return n=!r||e.space.equals(r)?e.coords.slice():r.from(e),void 0===a?n:n.map(e=>xe(e,a))}function Je(e,t){var n;if(e=De(e),"alpha"===t)return null!=(n=e.alpha)?n:1;let{space:r,index:a}=Ze.resolveCoord(t,e.space);return Ye(e,r)[a]}function Ve(e,t,n,r){return e=De(e),Array.isArray(t)&&([t,n,r]=[e.space,t,n]),t=Ze.get(t),e.coords=t===e.space?n.slice():t.to(e.space,n),void 0!==r&&(e.alpha=r),e}function Ue(e,t,n){if(e=De(e),2===arguments.length&&"object"===we(arguments[1])){let t=arguments[1];for(let n in t)Ue(e,n,t[n])}else if("function"==typeof n&&(n=n(Je(e,t))),"alpha"===t)e.alpha=n;else{let{space:r,index:a}=Ze.resolveCoord(t,e.space),o=Ye(e,r);o[a]=n,Ve(e,r,o)}return e}Ve.returns="color",Ue.returns="color";const Qe=new Ze({id:"xyz-d50",name:"XYZ D50",white:"D50",base:Fe,fromBase:e=>Ie(Fe.white,"D50",e),toBase:e=>Ie("D50",Fe.white,e)}),Ke=216/24389,et=24/116,tt=24389/27;let nt=Pe.D50;const rt=new Ze({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:nt,base:Qe,fromBase(e){let t=e.map((e,t)=>e/nt[t]).map(e=>e>Ke?Math.cbrt(e):(tt*e+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(e){let[t,n,r]=e,a=[];return a[1]=(t+16)/116,a[0]=n/500+a[1],a[2]=a[1]-r/200,[a[0]>et?Math.pow(a[0],3):(116*a[0]-16)/tt,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/tt,a[2]>et?Math.pow(a[2],3):(116*a[2]-16)/tt].map((e,t)=>e*nt[t])},formats:{lab:{coords:["<percentage> | <number>","<number> | <percentage>","<number> | <percentage>"]}}});function at(e){return"number"!=typeof e?e:(e%360+360)%360}const ot=new Ze({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:rt,fromBase(e){if(void 0===this.ε){let e=Object.values(this.base.coords)[1].refRange,t=e[1]-e[0];this.ε=t/1e5}let[t,n,r]=e,a=Math.abs(n)<this.ε&&Math.abs(r)<this.ε,o=a?null:at(180*Math.atan2(r,n)/Math.PI);return[t,a?0:Math.sqrt(n**2+r**2),o]},toBase(e){let[t,n,r]=e,a=null,o=null;return Me(r)||(n=n<0?0:n,a=n*Math.cos(r*Math.PI/180),o=n*Math.sin(r*Math.PI/180)),[t,a,o]},formats:{lch:{coords:["<percentage> | <number>","<number> | <percentage>","<number> | <angle>"]}}}),it=25**7,st=Math.PI,lt=180/st,ct=st/180;function ht(e){const t=e*e;return t*t*t*e}function ut(e,t,{kL:n=1,kC:r=1,kH:a=1}={}){[e,t]=De([e,t]);let[o,i,s]=rt.from(e),l=ot.from(rt,[o,i,s])[1],[c,h,u]=rt.from(t),p=ot.from(rt,[c,h,u])[1];l<0&&(l=0),p<0&&(p=0);let d=ht((l+p)/2),g=.5*(1-Math.sqrt(d/(d+it))),f=(1+g)*i,m=(1+g)*h,b=Math.sqrt(f**2+s**2),v=Math.sqrt(m**2+u**2),y=0===f&&0===s?0:Math.atan2(s,f),w=0===m&&0===u?0:Math.atan2(u,m);y<0&&(y+=2*st),w<0&&(w+=2*st),y*=lt,w*=lt;let k,M=c-o,x=v-b,$=w-y,S=y+w,C=Math.abs($);b*v===0?k=0:C<=180?k=$:$>180?k=$-360:$<-180?k=$+360:je.warn("the unthinkable has happened");let L,A=2*Math.sqrt(v*b)*Math.sin(k*ct/2),B=(o+c)/2,R=(b+v)/2,E=ht(R);L=b*v===0?S:C<=180?S/2:S<360?(S+360)/2:(S-360)/2;let z=(B-50)**2,W=1+.015*z/Math.sqrt(20+z),H=1+.045*R,P=1;P-=.17*Math.cos((L-30)*ct),P+=.24*Math.cos(2*L*ct),P+=.32*Math.cos((3*L+6)*ct),P-=.2*Math.cos((4*L-63)*ct);let q=1+.015*R*P,I=30*Math.exp(-1*((L-275)/25)**2),j=2*Math.sqrt(E/(E+it)),T=(M/(n*W))**2;return T+=(x/(r*H))**2,T+=(A/(a*q))**2,T+=-1*Math.sin(2*I*ct)*j*(x/(r*H))*(A/(a*q)),Math.sqrt(T)}const pt=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],dt=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],gt=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],ft=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],mt=new Ze({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:Fe,fromBase(e){let t=ve(e,pt);return t[0]=Math.cbrt(t[0]),t[1]=Math.cbrt(t[1]),t[2]=Math.cbrt(t[2]),ve(t,gt,t)},toBase(e){let t=ve(e,ft);return t[0]=t[0]**3,t[1]=t[1]**3,t[2]=t[2]**3,ve(t,dt,t)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>","<number> | <percentage>"]}}});function bt(e,t){[e,t]=De([e,t]);let[n,r,a]=mt.from(e),[o,i,s]=mt.from(t),l=n-o,c=r-i,h=a-s;return Math.sqrt(l**2+c**2+h**2)}function vt(e,t,{epsilon:n=75e-6}={}){e=De(e),t||(t=e.space),t=Ze.get(t);let r=e.coords;return t!==e.space&&(r=t.from(e)),t.inGamut(r,{epsilon:n})}function yt(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}const wt=Math.PI/180,kt=new Ze({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:Fe,fromBase:e=>e.map(e=>203*e),toBase:e=>e.map(e=>e/203)}),Mt=1.15,xt=.66,$t=2610/16384,St=16384/2610,Ct=.8359375,Lt=2413/128,At=18.6875,Bt=1.7*2523/32,Rt=32/(1.7*2523),Et=-.56,zt=16295499532821565e-27,Wt=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],Ht=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],Pt=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],qt=[[1,.13860504327153927,.05804731615611883],[1,-.1386050432715393,-.058047316156118904],[1,-.09601924202631895,-.811891896056039]],It=new Ze({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.21,.21]},bz:{refRange:[-.21,.21]}},base:kt,fromBase(e){let[t,n,r]=e,a=ve([Mt*t-(Mt-1)*r,xt*n-(xt-1)*t,r],Wt).map(function(e){let t=Ct+Lt*Ae(e/1e4,$t),n=1+At*Ae(e/1e4,$t);return Ae(t/n,Bt)}),[o,i,s]=ve(a,Pt);return[(1+Et)*o/(1+Et*o)-zt,i,s]},toBase(e){let[t,n,r]=e,a=ve([(t+zt)/(1+Et-Et*(t+zt)),n,r],qt).map(function(e){let t=Ct-Ae(e,Rt),n=At*Ae(e,Rt)-Lt;return 1e4*Ae(t/n,St)}),[o,i,s]=ve(a,Ht),l=(o+(Mt-1)*s)/Mt;return[l,(i+(xt-1)*l)/xt,s]},formats:{jzazbz:{coords:["<percentage> | <number>","<number> | <percentage>","<number> | <percentage>"]}}}),jt=new Ze({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,.26],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:It,fromBase:ot.fromBase,toBase:ot.toBase,formats:{jzczhz:{coords:["<percentage> | <number>","<number> | <percentage>","<number> | <angle>"]}}}),Tt=.8359375,Ot=2413/128,Nt=18.6875,Dt=2610/16384,Gt=16384/2610,Zt=32/2523,_t=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],Ft=[[.5,.5,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Xt=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],Yt=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],Jt=new Ze({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:kt,fromBase:e=>{return t=ve(e,_t),ve(t.map(function(e){return((Tt+Ot*(e/1e4)**Dt)/(1+Nt*(e/1e4)**Dt))**78.84375}),Ft);var t},toBase(e){let t=function(e){return ve(e,Xt).map(function(e){return 1e4*(Math.max(e**Zt-Tt,0)/(Ot-Nt*e**Zt))**Gt})}(e);return ve(t,Yt)},formats:{ictcp:{coords:["<percentage> | <number>","<number> | <percentage>","<number> | <percentage>"]}}}),Vt=Pe.D65,Ut=1/.42,Qt=2*Math.PI,Kt=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],en=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],tn=[[460,451,288],[460,-891,-261],[460,-220,-6300]],nn={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},rn={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},an=180/Math.PI,on=Math.PI/180;function sn(e,t){return e.map(e=>{const n=Ae(t*Math.abs(e)*.01,.42);return 400*Le(n,e)/(n+27.13)})}function ln(e,t,n,r,a){const o={};o.discounting=a,o.refWhite=e,o.surround=r;const i=e.map(e=>100*e);o.la=t,o.yb=n;const s=i[1],l=ve(i,Kt);let c=nn[o.surround];const h=c[0];o.c=c[1],o.nc=c[2];const u=(1/(5*o.la+1))**4;o.fl=u*o.la+.1*(1-u)*(1-u)*Math.cbrt(5*o.la),o.flRoot=o.fl**.25,o.n=o.yb/s,o.z=1.48+Math.sqrt(o.n),o.nbb=.725*o.n**-.2,o.ncb=o.nbb;const p=Math.max(Math.min(h*(1-1/3.6*Math.exp((-o.la-42)/92)),1),0);o.dRgb=l.map(e=>$e(1,s/e,p)),o.dRgbInv=o.dRgb.map(e=>1/e);const d=sn(l.map((e,t)=>e*o.dRgb[t]),o.fl);return o.aW=o.nbb*(2*d[0]+d[1]+.05*d[2]),o}const cn=ln(Vt,64/Math.PI*.2,20,"average",!1);function hn(e,t){if(!(void 0!==e.J^void 0!==e.Q))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(void 0!==e.C^void 0!==e.M^void 0!==e.s))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(void 0!==e.h^void 0!==e.H))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(0===e.J||0===e.Q)return[0,0,0];let n=0;n=void 0!==e.h?at(e.h)*on:function(e){let t=(e%400+400)%400;const n=Math.floor(.01*t);t%=100;const[r,a]=rn.h.slice(n,n+2),[o,i]=rn.e.slice(n,n+2);return at((t*(i*r-o*a)-100*r*i)/(t*(i-o)-100*i))}(e.H)*on;const r=Math.cos(n),a=Math.sin(n);let o=0;void 0!==e.J?o=.1*Ae(e.J,.5):void 0!==e.Q&&(o=.25*t.c*e.Q/((t.aW+4)*t.flRoot));let i=0;void 0!==e.C?i=e.C/o:void 0!==e.M?i=e.M/t.flRoot/o:void 0!==e.s&&(i=4e-4*e.s**2*(t.aW+4)/t.c);const s=Ae(i*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),l=.25*(Math.cos(n+2)+3.8),c=t.aW*Ae(o,2/t.c/t.z),h=5e4/13*t.nc*t.ncb*l,u=c/t.nbb,p=23*(u+.305)*Be(s,23*h+s*(11*r+108*a)),d=function(e,t){const n=100/t*2588.068098016295;return e.map(e=>{const t=Math.abs(e);return Le(n*Ae(t/(400-t),Ut),e)})}(ve([u,p*r,p*a],tn).map(e=>1*e/1403),t.fl);return ve(d.map((e,n)=>e*t.dRgbInv[n]),en).map(e=>e/100)}function un(e,t){const n=sn(ve(e.map(e=>100*e),Kt).map((e,n)=>e*t.dRgb[n]),t.fl),r=n[0]+(-12*n[1]+n[2])/11,a=(n[0]+n[1]-2*n[2])/9,o=(Math.atan2(a,r)%Qt+Qt)%Qt,i=.25*(Math.cos(o+2)+3.8),s=Ae(5e4/13*t.nc*t.ncb*Be(i*Math.sqrt(r**2+a**2),n[0]+n[1]+1.05*n[2]+.305),.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),l=Ae(t.nbb*(2*n[0]+n[1]+.05*n[2])/t.aW,.5*t.c*t.z),c=100*Ae(l,2),h=4/t.c*l*(t.aW+4)*t.flRoot,u=s*l,p=u*t.flRoot,d=at(o*an),g=function(e){let t=at(e);t<=rn.h[0]&&(t+=360);const n=function(e,t,n=0,r=e.length){for(;n<r;){const a=n+r>>1;e[a]<t?n=a+1:r=a}return n}(rn.h,t)-1,[r,a]=rn.h.slice(n,n+2),[o,i]=rn.e.slice(n,n+2),s=(t-r)/o;return rn.H[n]+100*s/(s+(a-t)/i)}(d);return{J:c,C:u,h:d,s:50*Ae(t.c*s/(t.aW+4),.5),Q:h,M:p,H:g}}new Ze({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Fe,fromBase(e){void 0===this.ε&&(this.ε=Object.values(this.coords)[1].refRange[1]/1e5);const t=un(e,cn),n=Math.abs(t.M)<this.ε;return[t.J,n?0:t.M,n?null:t.h]},toBase:e=>hn({J:e[0],M:e[1],h:e[2]},cn)});const pn=216/24389,dn=24389/27;function gn(e){return e>8?Math.pow((e+16)/116,3):e/dn}const fn=ln(Pe.D65,200/Math.PI*gn(50),100*gn(50),"average",!1),mn=new Ze({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:Fe,fromBase(e){void 0===this.ε&&(this.ε=Object.values(this.coords)[1].refRange[1]/1e5);let t=function(e){const t=116*((n=e[1])>pn?Math.cbrt(n):(dn*n+16)/116)-16;var n;if(0===t)return[0,0,0];const r=un(e,fn);return[at(r.h),r.C,t]}(e);return t[1]<this.ε&&(t[1]=0,t[0]=null),t},toBase:e=>function(e,t){let[n,r,a]=e,o=[],i=0;if(0===a)return[0,0,0];let s=gn(a);i=a>0?.00379058511492914*a**2+.608983189401032*a+.9155088574762233:9514440756550361e-21*a**2+.08693057439788597*a-21.928975842194614;let l=0,c=1/0;for(;l<=15;){o=hn({J:i,C:r,h:n},t);const e=Math.abs(o[1]-s);if(e<c){if(e<=2e-12)return o;c=e}i-=(o[1]-s)*i/(2*o[1]),l+=1}return hn({J:i,C:r,h:n},t)}(e,fn),formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),bn=Math.PI/180,vn=[1,.007,.0228];function yn(e){e[1]<0&&(e=mn.fromBase(mn.toBase(e)));const t=Math.log(Math.max(1+vn[2]*e[1]*fn.flRoot,1))/vn[2],n=e[0]*bn,r=t*Math.cos(n),a=t*Math.sin(n);return[e[2],r,a]}const wn={deltaE76:function(e,t){return function(e,t,n="lab"){let r=(n=Ze.get(n)).from(e),a=n.from(t);return Math.sqrt(r.reduce((e,t,n)=>{let r=a[n];return Me(t)||Me(r)?e:e+(r-t)**2},0))}(e,t,"lab")},deltaECMC:function(e,t,{l:n=2,c:r=1}={}){[e,t]=De([e,t]);let[a,o,i]=rt.from(e),[,s,l]=ot.from(rt,[a,o,i]),[c,h,u]=rt.from(t),p=ot.from(rt,[c,h,u])[1];s<0&&(s=0),p<0&&(p=0);let d=a-c,g=s-p,f=(o-h)**2+(i-u)**2-g**2,m=.511;a>=16&&(m=.040975*a/(1+.01765*a));let b,v=.0638*s/(1+.0131*s)+.638;Me(l)&&(l=0),b=l>=164&&l<=345?.56+Math.abs(.2*Math.cos((l+168)*wt)):.36+Math.abs(.4*Math.cos((l+35)*wt));let y=Math.pow(s,4),w=Math.sqrt(y/(y+1900)),k=(d/(n*m))**2;return k+=(g/(r*v))**2,k+=f/(v*(w*b+1-w))**2,Math.sqrt(k)},deltaE2000:ut,deltaEJz:function(e,t){[e,t]=De([e,t]);let[n,r,a]=jt.from(e),[o,i,s]=jt.from(t),l=n-o,c=r-i;Me(a)&&Me(s)?(a=0,s=0):Me(a)?a=s:Me(s)&&(s=a);let h=a-s,u=2*Math.sqrt(r*i)*Math.sin(h/2*(Math.PI/180));return Math.sqrt(l**2+c**2+u**2)},deltaEITP:function(e,t){[e,t]=De([e,t]);let[n,r,a]=Jt.from(e),[o,i,s]=Jt.from(t);return 720*Math.sqrt((n-o)**2+.25*(r-i)**2+(a-s)**2)},deltaEOK:bt,deltaEOK2:function(e,t){[e,t]=De([e,t]);let[n,r,a]=mt.from(e),[o,i,s]=mt.from(t),l=n-o,c=2*(r-i),h=2*(a-s);return Math.sqrt(l**2+c**2+h**2)},deltaEHCT:function(e,t){[e,t]=De([e,t]);let[n,r,a]=yn(mn.from(e)),[o,i,s]=yn(mn.from(t));return Math.sqrt((n-o)**2+(r-i)**2+(a-s)**2)}},kn={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Mn(e,{method:t=je.gamut_mapping,space:n,deltaEMethod:r="",jnd:a=2,blackWhiteClamp:o}={}){if(e=De(e),ye(arguments[1])?n=arguments[1]:n||(n=e.space),vt(e,n=Ze.get(n),{epsilon:0}))return e;let i;if("css"===t)i=function(e,{space:t}={}){const n=.02,r=1e-4;e=De(e),t||(t=e.space),t=Ze.get(t);const a=Ze.get("oklch");if(t.isUnbounded)return $n(e,t);const o=$n(e,a);let i=o.coords[0];if(i>=1){const n=$n(xn.WHITE,t);return n.alpha=e.alpha,$n(n,t)}if(i<=0){const n=$n(xn.BLACK,t);return n.alpha=e.alpha,$n(n,t)}if(vt(o,t,{epsilon:0}))return $n(o,t);function s(e){const n=$n(e,t),r=Object.values(t.coords);return n.coords=n.coords.map((e,t)=>{if("range"in r[t]){const[n,a]=r[t].range;return Ce(n,e,a)}return e}),n}let l=0,c=o.coords[1],h=!0,u=yt(o),p=s(u),d=bt(p,u);if(d<n)return p;for(;c-l>r;){const e=(l+c)/2;if(u.coords[1]=e,h&&vt(u,t,{epsilon:0}))l=e;else if(p=s(u),d=bt(p,u),d<n){if(n-d<r)break;h=!1,l=e}else c=e}return p}(e,{space:n});else{if("clip"===t||vt(e,n))i=$n(e,n);else{Object.prototype.hasOwnProperty.call(kn,t)&&({method:t,jnd:a,deltaEMethod:r,blackWhiteClamp:o}=kn[t]);let s=ut;if(""!==r)for(let e in wn)if("deltae"+r.toLowerCase()===e.toLowerCase()){s=wn[e];break}0===a&&(a=1e-16);let l=Mn($n(e,n),{method:"clip",space:n});if(s(e,l)>a){if(o&&3===Object.keys(o).length){let t=Ze.resolveCoord(o.channel),n=Je($n(e,t.space),t.id);if(Me(n)&&(n=0),n>=o.max)return $n({space:"xyz-d65",coords:Pe.D65},e.space);if(n<=o.min)return $n({space:"xyz-d65",coords:[0,0,0]},e.space)}let r=Ze.resolveCoord(t),l=r.space,c=r.id,h=$n(e,l);h.coords.forEach((e,t)=>{Me(e)&&(h.coords[t]=0)});let u=(r.range||r.refRange)[0],p=function(e){const t=e?Math.floor(Math.log10(Math.abs(e))):0;return Math.max(parseFloat("1e"+(t-2)),1e-6)}(a),d=u,g=Je(h,c);for(;g-d>p;){let e=yt(h);e=Mn(e,{space:n,method:"clip"}),s(h,e)-a<p?d=Je(h,c):g=Je(h,c),Ue(h,c,(d+g)/2)}i=$n(h,n)}else i=l}if("clip"===t||!vt(i,n,{epsilon:0})){let e=Object.values(n.coords).map(e=>e.range||[]);i.coords=i.coords.map((t,n)=>{let[r,a]=e[n];return void 0!==r&&(t=Math.max(r,t)),void 0!==a&&(t=Math.min(t,a)),t})}}return n!==e.space&&(i=$n(i,e.space)),e.coords=i.coords,e}Mn.returns="color";const xn={WHITE:{space:mt,coords:[1,0,0],alpha:1},BLACK:{space:mt,coords:[0,0,0],alpha:1}};function $n(e,t,{inGamut:n}={}){e=De(e);let r=(t=Ze.get(t)).from(e),a={space:t,coords:r,alpha:e.alpha};return n&&(a=Mn(a,!0===n?void 0:n)),a}$n.returns="color";const Sn=new Xe({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M:[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]]}),Cn=new Xe({id:"rec2020",name:"REC.2020",base:Sn,toBase:e=>e.map(function(e){let t=e<0?-1:1,n=e*t;return t*Math.pow(n,2.4)}),fromBase:e=>e.map(function(e){let t=e<0?-1:1,n=e*t;return t*Math.pow(n,1/2.4)})}),Ln=new Xe({id:"p3-linear",cssId:"display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]}),An=new Xe({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]]}),Bn={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let Rn=Array(3).fill("<percentage> | <number>[0, 255]"),En=Array(3).fill("<number>[0, 255]");const zn=new Xe({id:"srgb",name:"sRGB",base:An,fromBase:e=>e.map(e=>{let t=e<0?-1:1,n=e*t;return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e}),toBase:e=>e.map(e=>{let t=e<0?-1:1,n=e*t;return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:Rn},rgb_number:{name:"rgb",commas:!0,coords:En,alpha:!1},color:{},rgba:{coords:Rn,commas:!0,alpha:!0},rgba_number:{name:"rgba",commas:!0,coords:En},hex:{type:"custom",toGamut:!0,test:e=>/^#(([a-f0-9]{2}){3,4}|[a-f0-9]{3,4})$/i.test(e),parse(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return e.replace(/[a-f0-9]{2}/gi,e=>{t.push(parseInt(e,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(e,t,{collapse:n=!0,alpha:r}={})=>{(!1!==r&&t<1||!0===r)&&e.push(t),e=e.map(e=>Math.round(255*e));let a=n&&e.every(e=>e%17==0);return"#"+e.map(e=>a?(e/17).toString(16):e.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:e=>/^[a-z]+$/i.test(e),parse(e){let t={spaceId:"srgb",coords:null,alpha:1};if("transparent"===(e=e.toLowerCase())?(t.coords=Bn.black,t.alpha=0):t.coords=Bn[e],t.coords)return t}}}}),Wn=new Xe({id:"p3",cssId:"display-p3",name:"P3",base:Ln,fromBase:zn.fromBase,toBase:zn.toBase});function Hn(e){return Je(e,[Fe,"y"])}function Pn(e){return e>=.022?e:e+(.022-e)**1.414}function qn(e){let t=e<0?-1:1,n=Math.abs(e);return t*Math.pow(n,2.4)}function In(e,t){e=De(e),t=De(t);let n=Je(e,[rt,"l"]),r=Je(t,[rt,"l"]);return Math.abs(n-r)}const jn=216/24389,Tn=24/116,On=24389/27;let Nn=Pe.D65;const Dn=new Ze({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Nn,base:Fe,fromBase(e){let t=e.map((e,t)=>e/Nn[t]).map(e=>e>jn?Math.cbrt(e):(On*e+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>Tn?Math.pow(t[0],3):(116*t[0]-16)/On,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/On,t[2]>Tn?Math.pow(t[2],3):(116*t[2]-16)/On].map((e,t)=>e*Nn[t])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <percentage>"]}}}),Gn=.5*Math.pow(5,.5)+.5,Zn=Object.freeze(Object.defineProperty({__proto__:null,contrastAPCA:function(e,t){let n,r,a,o,i,s;t=De(t),e=De(e),t=$n(t,"srgb"),[o,i,s]=t.coords.map(e=>Me(e)?0:e);let l=.2126729*qn(o)+.7151522*qn(i)+.072175*qn(s);e=$n(e,"srgb"),[o,i,s]=e.coords.map(e=>Me(e)?0:e);let c=.2126729*qn(o)+.7151522*qn(i)+.072175*qn(s),h=Pn(l),u=Pn(c),p=u>h;return Math.abs(u-h)<5e-4?r=0:p?(n=u**.56-h**.57,r=1.14*n):(n=u**.65-h**.62,r=1.14*n),a=Math.abs(r)<.1?0:r>0?r-.027:r+.027,100*a},contrastDeltaPhi:function(e,t){e=De(e),t=De(t);let n=Je(e,[Dn,"l"]),r=Je(t,[Dn,"l"]),a=Math.abs(Math.pow(n,Gn)-Math.pow(r,Gn)),o=Math.pow(a,1/Gn)*Math.SQRT2-40;return o<7.5?0:o},contrastLstar:In,contrastMichelson:function(e,t){e=De(e),t=De(t);let n=Math.max(Hn(e),0),r=Math.max(Hn(t),0);r>n&&([n,r]=[r,n]);let a=n+r;return 0===a?0:(n-r)/a},contrastWCAG21:function(e,t){e=De(e),t=De(t);let n=Math.max(Hn(e),0),r=Math.max(Hn(t),0);return r>n&&([n,r]=[r,n]),(n+.05)/(r+.05)},contrastWeber:function(e,t){e=De(e),t=De(t);let n=Math.max(Hn(e),0),r=Math.max(Hn(t),0);return r>n&&([n,r]=[r,n]),0===r?5e4:(n-r)/r}},Symbol.toStringTag,{value:"Module"}));function _n(e,t,n){ye(n)&&(n={algorithm:n});let{algorithm:r,...a}=n||{};if(!r){let e=Object.keys(Zn).map(e=>e.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${e}`)}e=De(e),t=De(t);for(let o in Zn)if("contrast"+r.toLowerCase()===o.toLowerCase())return Zn[o](e,t,a);throw new TypeError(`Unknown contrast algorithm: ${r}`)}const Fn=new Ze({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:zn,fromBase:e=>{let t=Math.max(...e),n=Math.min(...e),[r,a,o]=e,[i,s,l]=[null,0,(n+t)/2],c=t-n;if(0!==c){switch(s=0===l||1===l?0:(t-l)/Math.min(l,1-l),t){case r:i=(a-o)/c+(a<o?6:0);break;case a:i=(o-r)/c+2;break;case o:i=(r-a)/c+4}i*=60}return s<0&&(i+=180,s=Math.abs(s)),i>=360&&(i-=360),[i,100*s,100*l]},toBase:e=>{let[t,n,r]=e;function a(e){let a=(e+t/30)%12,o=n*Math.min(r,1-r);return r-o*Math.max(-1,Math.min(a-3,9-a,1))}return t%=360,t<0&&(t+=360),n/=100,r/=100,[a(0),a(8),a(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]},hsla:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"],commas:!0,alpha:!0}}}),Xn=new Ze({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:zn,fromBase(e){let t=Math.max(...e),n=Math.min(...e),[r,a,o]=e,[i,s,l]=[null,0,t],c=t-n;if(0!==c){switch(t){case r:i=(a-o)/c+(a<o?6:0);break;case a:i=(o-r)/c+2;break;case o:i=(r-a)/c+4}i*=60}return l&&(s=c/l),i>=360&&(i-=360),[i,100*s,100*l]},toBase(e){let[t,n,r]=e;function a(e){let a=(e+t/60)%6;return r-r*n*Math.max(0,Math.min(a,4-a,1))}return t%=360,t<0&&(t+=360),n/=100,r/=100,[a(5),a(3),a(1)]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Yn=new Ze({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Xn,fromBase(e){let[t,n,r]=e;return[t,r*(100-n)/100,100-r]},toBase(e){let[t,n,r]=e;n/=100,r/=100;let a=n+r;if(a>=1)return[t,0,n/a*100];let o=1-r;return[t,100*(0===o?0:1-n/o),100*o]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Jn=new Xe({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe® 98 RGB compatible",white:"D65",toXYZ_M:[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M:[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]]}),Vn=new Xe({id:"a98rgb",cssId:"a98-rgb",name:"Adobe® 98 RGB compatible",base:Jn,toBase:e=>e.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:e=>e.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))}),Un=new Xe({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:Qe,toXYZ_M:[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],fromXYZ_M:[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]]}),Qn=1/512,Kn=new Xe({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:Un,toBase:e=>e.map(e=>{let t=e<0?-1:1,n=e*t;return n<.03125?e/16:t*n**1.8}),fromBase:e=>e.map(e=>{let t=e<0?-1:1,n=e*t;return n>=Qn?t*n**(1/1.8):16*e})}),er=new Ze({id:"oklch",name:"OkLCh",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:mt,fromBase:ot.fromBase,toBase:ot.toBase,formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>","<number> | <angle>"]}}});function tr(e){return"display-p3"===e?"p3":"a98-rgb"===e?"a98rgb":e}function nr(e){return"p3"===e?"display-p3":"a98rgb"===e?"a98-rgb":e}function rr(e){return"100"===e||100===e?"":` / ${e}%`}function ar(e){return["srgb-linear","display-p3","rec2020","a98-rgb","prophoto","xyz","xyz-d50","xyz-d65"].includes(e)}function or(e,t=0){return null==e?"0":Number(e.toFixed(t)).toString()}function ir(e,t){var n,r,a,o,i,s,l,c,h,u;const p=null!=(n=t.L)?n:50,d=null!=(r=t.A)?r:0,g=null!=(a=t.B)?a:0,f=null!=(o=t.C)?o:0,m=null!=(i=t.H)?i:0,b=null!=(s=t.S)?s:0,v=null!=(l=t.W)?l:0,y=null!=(c=t.R)?c:0,w=null!=(h=t.G)?h:0,k=null!=(u=t.ALP)?u:100;switch(e){case"oklab":return`oklab(${p}% ${d} ${g}${rr(k)})`;case"oklch":return`oklch(${p}% ${f}% ${m}${rr(k)})`;case"lab":return`lab(${p}% ${d} ${g}${rr(k)})`;case"lch":return`lch(${p}% ${f}% ${m}${rr(k)})`;case"hsl":return`hsl(${m} ${b}% ${p}%${rr(k)})`;case"hwb":return`hwb(${m} ${v}% ${g}%${rr(k)})`;case"srgb":return`rgb(${y}% ${w}% ${g}%${rr(k)})`;case"hex":{const e=Math.round(2.55*Number(y)),t=Math.round(2.55*Number(w)),n=Math.round(2.55*Number(g)),r=Number(k),a=e.toString(16).padStart(2,"0"),o=t.toString(16).padStart(2,"0"),i=n.toString(16).padStart(2,"0"),s=a[0]===a[1]&&o[0]===o[1]&&i[0]===i[1];if(r<100){const e=Math.round(r/100*255).toString(16).padStart(2,"0");return s&&e[0]===e[1]?`#${a[0]}${o[0]}${i[0]}${e[0]}`:`#${a}${o}${i}${e}`}return s?`#${a[0]}${o[0]}${i[0]}`:`#${a}${o}${i}`}default:return ar(e)?function(e,t,n,r,a){return`color(${"prophoto"===e?"prophoto-rgb":e} ${t}% ${n}% ${r}%${rr(a)})`}(e,y,w,g,k):"oklch(75% 75% 180)"}}function sr(e,t){var n,r,a,o,i;let s=De(Te(t));const l=tr("hex"===e?"srgb":e);s.space.id!==l&&(s=$n(s,l));const c=nr(s.space.id),h="rgb"===c?"srgb":c,u={},p=null!=(n=s.alpha)?n:1;if("oklab"===h){const[e,t,n]=s.coords;u.L=or(100*(null!=e?e:0)),u.A=or(t,2),u.B=or(n,2),u.ALP=or(100*p)}else if("oklch"===h){const[e,t,n]=s.coords;u.L=or(100*(null!=e?e:0)),u.C=or(Math.min(100,100*(null!=t?t:0)),0),u.H=or(n),u.ALP=or(100*p)}else if("lab"===h){const[e,t,n]=s.coords;u.L=or(e),u.A=or(t),u.B=or(n),u.ALP=or(100*p)}else if("lch"===h){const[e,t,n]=s.coords;u.L=or(e),u.C=or(Math.min(100,(null!=t?t:0)/1.5),0),u.H=or(n),u.ALP=or(100*p)}else if("hsl"===h){const e=s.coords[0],t=null!=(r=s.coords[1])?r:0,n=null!=(a=s.coords[2])?a:0;u.H=or(e),u.S=or(t>1?t:100*t),u.L=or(n>1?n:100*n),u.ALP=or(100*p)}else if("hwb"===h){const e=s.coords[0],t=null!=(o=s.coords[1])?o:0,n=null!=(i=s.coords[2])?i:0;u.H=or(e),u.W=or(t>1?t:100*t),u.B=or(n>1?n:100*n),u.ALP=or(100*p)}else if("srgb"===h||"hex"===h){const[e,t,n]=Mn(s,{space:"srgb",method:"clip"}).coords;u.R=or(100*(null!=e?e:0)),u.G=or(100*(null!=t?t:0)),u.B=or(100*(null!=n?n:0)),u.ALP=or(100*p)}else if(ar(h)){const[e,t,n]=s.coords;u.R=or(100*(null!=e?e:0)),u.G=or(100*(null!=t?t:0)),u.B=or(100*(null!=n?n:0)),u.ALP=or(100*p)}return{space:h,ch:u}}Ze.register(zn),Ze.register(An),Ze.register(Fn),Ze.register(Yn),Ze.register(rt),Ze.register(ot),Ze.register(mt),Ze.register(er),Ze.register(Wn),Ze.register(Vn),Ze.register(Kn),Ze.register(Cn),Ze.register(Fe),Ze.register(Qe);let lr=null;function cr(e,t){return e.left>=t.left&&e.top>=t.top&&e.right<=t.right&&e.bottom<=t.bottom}function hr(e,t){const n=Math.max(e.left,t.left),r=Math.max(e.top,t.top),a=Math.min(e.right,t.right),o=Math.min(e.bottom,t.bottom);return a<=n||o<=r?0:(a-n)*(o-r)}const ur=':root{--radius-round: 1e5px;--radius-2: 5px;--radius-3: 1rem}:host{--canvas: Canvas;--canvas-text: CanvasText;--radius-2: .5rem;--radius-3: .75rem;--radius-round: 1e4px;--shadow-elev: #0305081f 0px -1px 2px 0px, #03050821 0px 2px 1px -2px, #03050821 0px 5px 5px -2px, #03050824 0px 10px 10px -2px, #03050826 0px 20px 20px -2px, #0305082b 0px 40px 40px -2px;--shadow-inner: inset 0 0 0 1px color-mix(in oklab, var(--canvas-text), transparent 94%);--checker: repeating-conic-gradient(color-mix(in oklab, var(--canvas-text), transparent 90%) 0% 25%, transparent 0% 50%) 50%/1rem 1rem;color-scheme:light dark;display:flex;align-items:center;gap:10px;position:relative;@media (width < 350px){overflow:hidden}}:host([hidden]){display:none}button{border:1px solid color-mix(in oklab,var(--canvas-text),var(--canvas) 80%);outline-offset:2px;&.trigger{flex-shrink:0;background:none;padding:0;border:none;display:inline-flex;place-content:center;border-radius:var(--radius-round);.chip{display:inline-block;inline-size:1.25rem;block-size:1.25rem;border-radius:var(--radius-round);box-shadow:inset 0 0 0 1px color-mix(in oklab,var(--canvas-text),transparent 92%);background:linear-gradient(var(--value) 0 0),var(--checker);forced-color-adjust:none}}}.input-wrapper{position:relative;display:flex;flex-direction:column;flex:1;min-width:0}.text-input{field-sizing:content;font-family:inherit;padding:1ch 1.5ch;border:1px solid color-mix(in oklab,var(--canvas-text),var(--canvas) 80%);border-radius:var(--radius-2);background:color-mix(in oklab,var(--canvas-text),var(--canvas) 92%);color:var(--canvas-text);box-shadow:var(--shadow-inner);outline-offset:2px;&[aria-invalid=true]{outline-color:red}}.error-message{position:absolute;bottom:-1.5rem;left:0;font-size:12px;color:#ef4444;font-weight:500;white-space:nowrap;pointer-events:none;opacity:0;transition:opacity .2s ease}.error-message:not(:empty){opacity:1}.panel{margin:0;max-inline-size:min(92vw,560px);background:var(--canvas);color:var(--canvas-text);box-shadow:var(--shadow-elev);border-radius:var(--radius-3);padding:0;border:1px solid #0000;overflow:hidden}.preview{position:relative;aspect-ratio:16 / 9;min-inline-size:28ch;display:grid;align-content:end;justify-items:start;padding:.75rem;gap:10px;box-shadow:var(--shadow-inner);background:linear-gradient(var(--value) 0 0),var(--checker);forced-color-adjust:none;&:hover .copy-btn,&:focus-within .copy-btn{opacity:1}>*:not(:hover){opacity:.9}.copy-wrap{position:absolute;top:.5rem;right:.5rem;display:flex;flex-direction:column;align-items:flex-end;gap:.25rem}.copy-btn{color:var(--contrast);background:none;border:1px solid #0000;border-radius:0;padding:0;cursor:pointer;opacity:0;transition:opacity .2s ease;display:inline-flex;align-items:center}.copy-btn svg{display:block}.copy-message{color:var(--contrast);font-size:.8rem;font-weight:500;opacity:0;pointer-events:none;transition:opacity .2s ease;white-space:nowrap}.copy-message.show{opacity:1}.visually-hidden:not(:focus):not(:active){clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}}.space{-webkit-appearance:base-select;-moz-appearance:base-select;appearance:base-select;min-block-size:1lh;line-height:1.1;font-weight:700;margin:0;padding:0;color:var(--contrast);background:transparent;border-radius:0;border:none;&::picker-icon{content:"›";-webkit-appearance:none;transform:rotate(90deg) scale(1.5)}}@supports not selector(::picker-icon){.space{background-image:url(https://api.iconify.design/basil:caret-down-solid.svg);background-size:1rem;background-position:right .5rem center;background-repeat:no-repeat}}.gamut,.info{line-height:1.1;text-box:cap alphabetic;display:block;color:var(--contrast);background:transparent}.gamut{font-size:1rem;text-box:ex alphabetic}.info{font-size:1.25rem}.controls{display:grid;gap:.5rem;padding:.75rem;border-radius:0 0 var(--radius-3) var(--radius-3);.control{display:grid;grid-template-columns:min-content 1fr 4ch;align-items:center;gap:.5rem}.control .num-wrapper{position:relative;display:flex;align-items:center}.control .num-wrapper sup{opacity:.5;font-size:.5em;place-self:start}.control label{font:500 12px/1.2 ui-monospace,SFMono-Regular,Menlo,Consolas,Liberation Mono,monospace}.control input[type=number]{text-align:end;font-size:12px;padding:0;background:none;border:1px solid var(--canvas);border-radius:.25rem;-moz-appearance:textfield;font-variant:tabular-nums;font-family:monospace;&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}}.control input[type=range]{width:100%;height:1rem;border-radius:999px;border:1px solid var(--canvas);background:var(--canvas);box-shadow:var(--shadow-inner);-webkit-appearance:none;-moz-appearance:none;appearance:none;forced-color-adjust:none}.control input[type=range].alpha{background:linear-gradient(to right,#0000,#000),var(--checker)}.control input[type=range]::-webkit-slider-thumb{cursor:grab;-webkit-appearance:none;appearance:none;border:4px solid white;height:calc(1rem + 8px);aspect-ratio:1;border-radius:var(--radius-round);box-shadow:0 0 1px 1px #00000040,inset 0 1px 2px #00000026}.control input[type=range]:active::-webkit-slider-thumb{cursor:grabbing}.control input[type=range]::-moz-range-thumb{cursor:grab;-moz-appearance:none;appearance:none;border:4px solid white;height:calc(1rem + 8px);aspect-ratio:1;border-radius:var(--radius-round);box-shadow:0 0 1px 1px #00000040,inset 0 1px 2px #00000026;width:calc(8px + 1rem);background:none;box-sizing:border-box}.control input[type=range]:active::-moz-range-thumb{cursor:grabbing}}',pr="oklch(75% 75% 180)",dr="oklch",gr=new CSSStyleSheet;"function"==typeof gr.replaceSync&&gr.replaceSync(ur);class fr extends HTMLElement{constructor(){if(super(),X(this,A),X(this,a,ie(pr)),X(this,o,ie(dr)),X(this,i,ie("auto")),X(this,s,ie(!1)),X(this,l,ie(null)),X(this,c,ie(null)),X(this,h,ie(!1)),X(this,u,ue(()=>function(e){var t,n;try{const r=Te(e);let a,o;try{a=null!=(t=_n(r,"white","WCAG21"))?t:In(r,"white"),o=null!=(n=_n(r,"black","WCAG21"))?n:In(r,"black")}catch{a=In(r,"white"),o=In(r,"black")}return a>o?"white":"black"}catch{return"black"}}(F(this,a).value))),X(this,p,ue(()=>function(e){let t="srgb";if(!e||e.startsWith("#"))return t;try{const n=Te(e),r={spaceId:"srgb",coords:$n(n,"srgb").coords,alpha:null},a={spaceId:"p3",coords:$n(n,"p3").coords,alpha:null},o={spaceId:"rec2020",coords:$n(n,"rec2020").coords,alpha:null};vt({spaceId:"xyz",coords:$n(n,"xyz").coords,alpha:null})&&(t="xyz"),vt(o)&&(t="rec2020"),vt(a)&&(t="p3"),vt(r)&&(t="srgb")}catch{}return t}(F(this,a).value))),X(this,d,null),X(this,g,null),X(this,f,null),X(this,m,null),X(this,b,!1),X(this,v),X(this,y),X(this,w),X(this,k),X(this,M),X(this,x),X(this,$),X(this,S),X(this,C),X(this,L,null),X(this,E,null),X(this,z,null),X(this,W,[]),X(this,H,null),Y(this,v,this.attachShadow({mode:"open",delegatesFocus:!0})),"adoptedStyleSheets"in F(this,v)&&"function"==typeof gr.replaceSync)F(this,v).adoptedStyleSheets=[gr];else{const e=document.createElement("style");e.textContent=ur,F(this,v).appendChild(e)}const e=function(){const e=document.createElement("template");return e.innerHTML='\n  <button class="trigger" part="trigger" aria-haspopup="dialog" aria-label="Open color picker" title="Open color picker">\n    <span class="chip" part="chip"></span>\n  </button>\n  <div class="input-wrapper">\n    <span class="error-message" part="error" role="alert" aria-live="polite"></span>\n    <input type="text" class="text-input" part="input" aria-label="Color value" title="Color value" aria-invalid="false" spellcheck="false" />\n  </div>\n  <div class="panel" popover="auto" part="panel">\n    <div class="preview">\n      <div class="copy-wrap">\n        <button class="copy-btn">\n          <span class="visually-hidden">Copy color</span>\n          <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><title>Copy color</title><path fill="currentColor" d="M5 22q-.825 0-1.413-.588T3 20V6h2v14h11v2H5Zm4-4q-.825 0-1.413-.588T7 16V4q0-.825.588-1.413T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.588 1.413T18 18H9Z"/></svg>\n        </button>\n        <span class="copy-message" aria-hidden="true">Copied!</span>\n        <span class="copy-message-live-region visually-hidden" role="status"></span>\n      </div>\n      <select class="space" title="Colorspace"></select>\n      <output class="info" part="output"></output>\n      <span class="gamut" title="Color\'s gamut" part="gamut"></span>\n    </div>\n    <div class="controls" part="controls"></div>\n  </div>\n  ',e}();F(this,v).appendChild(e.content.cloneNode(!0))}static get observedAttributes(){return["value","colorspace","theme","no-alpha"]}get value(){return F(this,a).value}set value(e){if("string"==typeof e&&e)try{const t=nr(Te(e).spaceId),n="string"==typeof e&&e.trim().startsWith("#");F(this,o).value=n?"hex":"rgb"===t?"srgb":t,F(this,a).value=e,Y(this,b,!0),this.setAttribute("value",e),this.setAttribute("colorspace",F(this,o).value),Y(this,b,!1),J(this,A,B).call(this)}catch{}}get colorspace(){return F(this,o).value}set colorspace(e){const t=e||dr;F(this,o).value=t,Y(this,b,!0),this.setAttribute("colorspace",t);try{const e=Te(F(this,a).value),n=ir(t,sr(t,function(e,t={}){var n,r,a,o;let i,{precision:s=je.precision,format:l,inGamut:c=!0,coords:h,alpha:u,commas:p}=t,d=De(e),g=l,f=d.parseMeta;f&&!l&&(f.format.canSerialize()&&(l=f.format,g=f.formatId),null!=h||(h=f.types),null!=u||(u=f.alphaType),null!=p||(p=f.commas)),g&&(l=null!=(n=d.space.getFormat(l))?n:Ze.findFormat(g)),l||(l=null!=(r=d.space.getFormat("default"))?r:Ze.DEFAULT_FORMAT,g=l.name),l&&l.space&&l.space!==d.space&&(d=$n(d,l.space));let m=d.coords.slice();if(c||(c=l.toGamut),c&&!vt(d)&&(m=Mn(yt(d),!0===c?void 0:c).coords),"custom"===l.type){if(!l.serialize)throw new TypeError(`format ${g} can only be used to parse colors, not for serialization`);i=l.serialize(m,d.alpha,t)}else{let e=l.name||"color",t=l.serializeCoords(m,s,h);if("color"===e){let e=l.id||(null==(a=l.ids)?void 0:a[0])||d.space.cssId||d.space.id;t.unshift(e)}let n=d.alpha;void 0!==u&&"object"!=typeof u&&(u="string"==typeof u?{type:u}:{include:u});let r=null!=(o=null==u?void 0:u.type)?o:"<number>",c=!0===(null==u?void 0:u.include)||!0===l.alpha||!1!==(null==u?void 0:u.include)&&!1!==l.alpha&&n<1,g="";if(null!=p||(p=l.commas),c){if(null!==s){let e;"<percentage>"===r&&(e="%",n*=100),n=ke(n,{precision:s,unit:e})}g=`${p?",":" /"} ${n}`}i=`${e}(${t.join(p?", ":" ")}${g})`}return i}(Mn($n(e,tr("hex"===t?"srgb":t))),{precision:12})).ch);F(this,a).value=n,this.setAttribute("value",n),J(this,A,B).call(this)}catch{}Y(this,b,!1),F(this,w)&&J(this,A,N).call(this)}get theme(){return F(this,i).value}set theme(e){const t="light"===e||"dark"===e?e:"auto";F(this,i).value=t,"auto"===t?this.removeAttribute("theme"):this.setAttribute("theme",t)}get noAlpha(){return F(this,h).value}set noAlpha(e){F(this,h).value=!!e,e?this.setAttribute("no-alpha",""):this.removeAttribute("no-alpha")}get gamut(){return F(this,p).value}get contrastColor(){return F(this,u).value}show(e){var t,n;e&&(F(this,l).value=e),null==(n=null==(t=F(this,y))?void 0:t.showPopover)||n.call(t),J(this,A,P).call(this)}close(){var e,t;null==(t=null==(e=F(this,y))?void 0:e.hidePopover)||t.call(e),J(this,A,q).call(this)}showPicker(){this.show()}setAnchor(e){F(this,l).value=e}set setColor(e){this.value=e}set setAnchorElement(e){this.setAnchor(e)}connectedCallback(){var e;const t=F(this,v).querySelector("button.trigger");Y(this,$,null!=t?t:void 0),Y(this,y,F(this,v).querySelector(".panel")),Y(this,w,F(this,v).querySelector(".controls")),Y(this,k,F(this,v).querySelector(".space")),Y(this,M,F(this,v).querySelector("output.info")),Y(this,x,F(this,v).querySelector(".chip")),Y(this,S,F(this,v).querySelector(".text-input")),Y(this,C,F(this,v).querySelector(".error-message"));const n=F(this,v).querySelector("button.copy-btn"),r=F(this,v).querySelector(".copy-message"),l=F(this,v).querySelector(".copy-message-live-region");if(n&&r&&l){let e=null;n.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(F(this,a).value),r.classList.add("show"),l.innerText=r.innerText,null!==e&&clearTimeout(e),e=window.setTimeout(()=>{r.classList.remove("show"),l.innerText="",e=null},3e3)}catch{}})}F(this,k).innerHTML='\n      <optgroup label="Standard">\n        <option value="hex">hex</option>\n        <option value="srgb">rgb</option>\n        <option value="srgb-linear">srgb-linear</option>\n        <option value="hsl">hsl</option>\n        <option value="hwb">hwb</option>\n      </optgroup>\n      <optgroup label="HDR">\n        <option value="display-p3">display-p3</option>\n        <option value="a98-rgb">a98-rgb</option>\n      </optgroup>\n      <optgroup label="Ultra HDR">\n        <option value="lab">lab</option>\n        <option value="lch">lch</option>\n        <option value="oklch">oklch</option>\n        <option value="oklab">oklab</option>\n        <option value="rec2020">rec2020</option>\n        <option value="prophoto">prophoto</option>\n        <option value="xyz">xyz</option>\n        <option value="xyz-d50">xyz-d50</option>\n        <option value="xyz-d65">xyz-d65</option>\n      </optgroup>\n    ',t&&t.addEventListener("click",()=>this.show(t)),F(this,S)&&(F(this,S).value=F(this,a).value,F(this,S).addEventListener("input",e=>{const t=e.target.value;J(this,A,R).call(this,t)}),F(this,S).addEventListener("paste",e=>{})),this.addEventListener("command",e=>{const t=e.command;if(!t)return;const n=e.source||e.invoker||(document.activeElement instanceof HTMLElement?document.activeElement:null);n&&(Y(this,L,n),this.setAnchor(n)),"show-popover"===t||"show"===t?this.show(F(this,L)):"hide-popover"===t||"close"===t?this.close():"toggle-popover"!==t&&"toggle"!==t||(F(this,s).value?this.close():this.show(F(this,L)))}),null==(e=F(this,y))||e.addEventListener("toggle",()=>{var e;const t=F(this,y);let n=!t.hasAttribute("hidden");try{n=null!=(e=t.matches(":popover-open"))&&e}catch{}F(this,s).value=n,n?J(this,A,P).call(this):J(this,A,q).call(this),this.dispatchEvent(new CustomEvent(n?"open":"close",{bubbles:!0}))}),F(this,k).addEventListener("change",()=>{this.colorspace=F(this,k).value,J(this,A,N).call(this)}),Y(this,d,me(()=>{const e=F(this,a).value,t=F(this,p).value,n=F(this,u).value;F(this,M)&&(F(this,M).value=e),F(this,x)&&F(this,x).style.setProperty("--value",e),F(this,S)&&F(this,S).value!==e&&(F(this,S).value=e),this.style.setProperty("--contrast",n),this.style.setProperty("--counter","white"===n?"black":"white");const r=F(this,v).querySelector(".gamut");r&&(r.textContent=t);const o=F(this,v).querySelector(".preview");o&&o.style.setProperty("--value",e)})),Y(this,f,me(()=>{const e=F(this,c).value;e?(this.setAttribute("data-error",""),F(this,C)&&(F(this,C).textContent=e),F(this,S)&&F(this,S).setAttribute("aria-invalid","true")):(this.removeAttribute("data-error"),F(this,C)&&(F(this,C).textContent=""),F(this,S)&&F(this,S).setAttribute("aria-invalid","false"))})),Y(this,g,me(()=>{const e=F(this,i).value,t="auto"===e?"light dark":e;this.style.setProperty("color-scheme",t)})),this.hasAttribute("value")||this.setAttribute("value",pr),this.hasAttribute("colorspace")||this.setAttribute("colorspace",F(this,o).value),F(this,k).value=F(this,o).value,J(this,A,N).call(this)}disconnectedCallback(){F(this,g)&&F(this,g).call(this),F(this,d)&&F(this,d).call(this),F(this,f)&&F(this,f).call(this)}attributeChangedCallback(e,t,n){if(n!==t&&!F(this,b)){if("value"===e&&"string"==typeof n)try{const e=nr(Te(n).spaceId),t="string"==typeof n&&n.trim().startsWith("#");F(this,a).value=n,F(this,o).value=t?"hex":"rgb"===e?"srgb":e,F(this,k)&&(F(this,k).value=F(this,o).value)}catch{}"colorspace"===e&&n&&(F(this,o).value=n,F(this,k)&&(F(this,k).value=n)),"theme"===e&&(F(this,i).value=n||"auto"),"no-alpha"===e&&(F(this,h).value=null!==n,F(this,w)&&J(this,A,N).call(this))}}}return a=new WeakMap,o=new WeakMap,i=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,p=new WeakMap,d=new WeakMap,g=new WeakMap,f=new WeakMap,m=new WeakMap,b=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,k=new WeakMap,M=new WeakMap,x=new WeakMap,$=new WeakMap,S=new WeakMap,C=new WeakMap,L=new WeakMap,A=new WeakSet,B=function(){const e={value:F(this,a).value,colorspace:F(this,o).value,gamut:F(this,p).value};this.dispatchEvent(new CustomEvent("change",{detail:e,bubbles:!0}))},R=function(e){if(e&&e.trim())try{const t=nr(Te(e).spaceId),n="string"==typeof e&&e.trim().startsWith("#");F(this,c).value=null,F(this,o).value=n?"hex":"rgb"===t?"srgb":t,F(this,a).value=e,this.setAttribute("value",e),this.setAttribute("colorspace",F(this,o).value),F(this,k)&&(F(this,k).value=F(this,o).value),J(this,A,B).call(this)}catch(t){F(this,c).value="Invalid color format"}else F(this,c).value="Invalid color format"},E=new WeakMap,z=new WeakMap,W=new WeakMap,H=new WeakMap,P=function(){var e,t;if(F(this,W).length)return;J(this,A,I).call(this);const n=null!=(t=null!=(e=F(this,l).value)?e:F(this,L))?t:F(this,$);if(n&&F(this,y)){if("undefined"!=typeof ResizeObserver){const e=new ResizeObserver(()=>J(this,A,I).call(this));e.observe(n),e.observe(F(this,y)),e.observe(document.documentElement),F(this,W).push(()=>e.disconnect())}else{const e=()=>J(this,A,I).call(this);window.addEventListener("resize",e),F(this,W).push(()=>window.removeEventListener("resize",e))}if(window.visualViewport){const e=()=>J(this,A,I).call(this);window.visualViewport.addEventListener("resize",e),window.visualViewport.addEventListener("scroll",e),F(this,W).push(()=>{var t,n;null==(t=window.visualViewport)||t.removeEventListener("resize",e),null==(n=window.visualViewport)||n.removeEventListener("scroll",e)})}if(function(e){const t=[];let n=e.parentElement;for(;n&&n!==document.documentElement;){const e=getComputedStyle(n),r=e.overflowY,a=e.overflowX;"auto"!==r&&"scroll"!==r&&"auto"!==a&&"scroll"!==a||!(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)||t.push(n),n=n.parentElement}return document.scrollingElement&&t.push(document.scrollingElement),t}(n).forEach(e=>{const t=()=>J(this,A,I).call(this);e.addEventListener("scroll",t,{passive:!0}),F(this,W).push(()=>e.removeEventListener("scroll",t))}),"undefined"!=typeof IntersectionObserver){const e=new IntersectionObserver(()=>J(this,A,I).call(this),{threshold:0});e.observe(n),F(this,W).push(()=>e.disconnect())}}},q=function(){F(this,W).forEach(e=>e()),Y(this,W,[]),null!==F(this,H)&&(cancelAnimationFrame(F(this,H)),Y(this,H,null))},I=function(){null===F(this,H)&&Y(this,H,requestAnimationFrame(()=>{Y(this,H,null),J(this,A,j).call(this)}))},j=function(){if(!F(this,y))return;const e=F(this,y),t=J(this,A,T).call(this),n=function(){if(lr)return lr;const e=document.createElement("div");e.style.position="fixed",e.style.left="-9999px",e.style.top="0",e.style.paddingTop="env(safe-area-inset-top)",e.style.paddingRight="env(safe-area-inset-right)",e.style.paddingBottom="env(safe-area-inset-bottom)",e.style.paddingLeft="env(safe-area-inset-left)",document.documentElement.appendChild(e);const t=getComputedStyle(e),n=parseFloat(t.paddingTop)||0,r=parseFloat(t.paddingRight)||0,a=parseFloat(t.paddingBottom)||0,o=parseFloat(t.paddingLeft)||0;return document.documentElement.removeChild(e),lr={top:n,right:r,bottom:a,left:o},lr}(),r=function(e){var t,n,r,a;const o=null!=(n=null==(t=window.visualViewport)?void 0:t.width)?n:window.innerWidth,i=null!=(a=null==(r=window.visualViewport)?void 0:r.height)?a:window.innerHeight,s=window.pageXOffset||document.documentElement.scrollLeft,l=window.pageYOffset||document.documentElement.scrollTop,c=e.left+8+s,h=e.top+8+l,u=o-e.right-8+s,p=i-e.bottom-8+l;return{left:c,top:h,right:u,bottom:p,width:u-c,height:p-h}}(n),a=J(this,A,O).call(this,e),o=function(e,t){const{width:n,height:r}=t,a=[{placement:"bottom-center",left:e.left+e.width/2-n/2,top:e.bottom+8,right:0,bottom:0},{placement:"top-center",left:e.left+e.width/2-n/2,top:e.top-8-r,right:0,bottom:0},{placement:"right-start",left:e.right+8,top:e.top,right:0,bottom:0},{placement:"left-start",left:e.left-8-n,top:e.top,right:0,bottom:0},{placement:"bottom-left",left:e.left,top:e.bottom+8,right:0,bottom:0},{placement:"bottom-right",left:e.right-n,top:e.bottom+8,right:0,bottom:0},{placement:"top-left",left:e.left,top:e.top-8-r,right:0,bottom:0},{placement:"top-right",left:e.right-n,top:e.top-8-r,right:0,bottom:0}];return a.forEach(e=>{e.right=e.left+n,e.bottom=e.top+r}),a}(t,a),i=function(e,t,n){if(n){const r=e.find(e=>e.placement===n);if(r&&cr(r,t))return r}for(const o of e)if(cr(o,t))return o;let r=e[0],a=hr(r,t);for(let o=1;o<e.length;o++){const n=hr(e[o],t);n>a&&(a=n,r=e[o])}return r}(o,r,F(this,E));Y(this,E,i.placement);const s=Math.round(Math.min(Math.max(i.left,r.left),r.right-a.width)),l=Math.round(Math.min(Math.max(i.top,r.top),r.bottom-a.height)),c=r.bottom-r.top;a.height>c?(e.style.maxHeight=`${c}px`,e.style.overflow="auto"):e.style.maxHeight&&(e.style.maxHeight="",e.style.overflow=""),e.style.position="absolute",e.style.left=`${s}px`,e.style.top=`${l}px`,e.style.setProperty("--ci-panel-placement",i.placement),e.dataset.placement=i.placement},T=function(){var e,t,n,r,a,o,i;const s=null!=(n=null!=(t=null!=(e=F(this,l).value)?e:F(this,L))?t:F(this,$))?n:this,c=window.pageXOffset||document.documentElement.scrollLeft,h=window.pageYOffset||document.documentElement.scrollTop;if(!s.isConnected){const e=(null!=(a=null==(r=window.visualViewport)?void 0:r.width)?a:window.innerWidth)/2+c,t=(null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:window.innerHeight)/2+h;return{left:e,top:t,right:e,bottom:t,width:0,height:0}}const u=s.getBoundingClientRect();return{left:u.left+c,top:u.top+h,right:u.right+c,bottom:u.bottom+h,width:u.width,height:u.height}},O=function(e){var t;const n=e.getBoundingClientRect();if(n.width>0&&n.height>0)return Y(this,z,{width:n.width,height:n.height}),F(this,z);const r={display:e.style.display,position:e.style.position,left:e.style.left,top:e.style.top,visibility:e.style.visibility,maxHeight:e.style.maxHeight};e.style.display="block",e.style.position="absolute",e.style.left="-99999px",e.style.top="0",e.style.visibility="hidden",e.style.maxHeight="none";const a=e.getBoundingClientRect();return e.style.display=r.display,e.style.position=r.position,e.style.left=r.left,e.style.top=r.top,e.style.visibility=r.visibility,e.style.maxHeight=r.maxHeight,a.width>0&&a.height>0?(Y(this,z,{width:a.width,height:a.height}),F(this,z)):null!=(t=F(this,z))?t:{width:560,height:400}},N=function(){var e,t,n,r,i,s,l,c,u,p,d,g,f,b,v,y;F(this,m)&&F(this,m).call(this);const k=F(this,o).value;if(!F(this,w))return;const M=sr(k,F(this,a).value).ch,x={};Object.keys(M).forEach(e=>{x[e]=ie(String(M[e]))});const $=(e,t,n,r,o=1,i,s)=>{var l,c;const h="H"===t,u=["L","S","C","W","B","R","G","ALP"].includes(t),p="H"===t,d=document.createElement("div");d.className="control";const g=document.createElement("label");g.textContent=e;const f={L:"Lightness",C:"Chroma",H:"Hue",S:"Saturation",A:"A (green-red axis)",W:"Whiteness",R:"Red",G:"Green",ALP:"Alpha"};"B"===t?g.title="oklab"===k||"lab"===k?"B (blue-yellow axis)":"hwb"===k?"Blackness":"Blue":f[t]&&(g.title=f[t]);const m=document.createElement("input");if(m.type="range",m.min=String(n),m.max=String(r),m.step=String(o),m.classList.add(`ch-${t.toLowerCase()}`),i&&(m.style.backgroundImage=i),s&&(m.style.backgroundColor=s),m.value=String(null!=(l=M[t])?l:0),"ALP"===t){m.classList.add("alpha");try{const e=ir(k,{...M,ALP:"0"}),t=ir(k,{...M,ALP:"100"}),n="hsl"===k?"hsl":"lch"===k?"lch":"oklch"===k?"oklch":"oklab";m.style.background=`linear-gradient(to right in ${n}, ${e}, ${t}), var(--checker)`}catch{}}const b=document.createElement("input");b.type="number",b.min=String(n),b.max=String(r),b.step=String(o),b.classList.add(`ch-${t.toLowerCase()}`),b.value=String(null!=(c=M[t])?c:0);const v=document.createElement("div");if(v.className="num-wrapper",v.appendChild(b),u||p){const e=document.createElement("sup");e.textContent=p?"°":"%",v.appendChild(e)}const y=()=>{const e=ir(k,M);F(this,a).value=e,this.setAttribute("value",e),J(this,A,B).call(this)},w=e=>{const a=e.target;let o=Number(a.value);if(!Number.isFinite(o))return;o=h?(o%360+360)%360:Math.max(n,Math.min(r,o));const i=function(e,t,n){const r=(e,t=0)=>Number(e.toFixed(t));if("oklab"===e){if("L"===t)return String(r(n,0));if("A"===t||"B"===t)return String(r(n,2))}else if("oklch"===e){if("L"===t)return String(r(n,0));if("C"===t)return String(r(n,0));if("H"===t)return String(r(n,0))}else if("lab"===e){if("L"===t)return String(r(n,0));if("A"===t||"B"===t)return String(r(n,0))}else if("lch"===e){if("L"===t||"C"===t||"H"===t)return String(r(n,0))}else if("hsl"===e||"hwb"===e){if("H"===t)return String(r(n,0));if("S"===t||"L"===t||"W"===t||"B"===t)return String(r(n,0))}else if("srgb"===e||"hex"===e){if("R"===t||"G"===t||"B"===t)return String(r(n,0))}else if(["srgb-linear","display-p3","rec2020","a98-rgb","prophoto","xyz","xyz-d50","xyz-d65"].includes(e)&&("R"===t||"G"===t||"B"===t))return String(r(n,0));return String(r(n,"ALP"===t?0:2))}(k,t,o);M[t]=i,x[t].value=i,m.value=String(M[t]),b.value=String(M[t]),y()};return m.addEventListener("input",w),b.addEventListener("input",w),d.append(g,m,v),d};if(F(this,w).innerHTML="","oklab"===k){const e=$("A","ALP",0,100,1);F(this,h).value&&(e.style.display="none"),F(this,w).append($("L","L",0,100,1,"linear-gradient(in oklab to right, black, white)"),$("A","A",-.5,.5,.01,"linear-gradient(to right in oklab, oklab(65% -.5 .5), oklab(65% .5 .5))"),$("B","B",-.5,.5,.01,"linear-gradient(to right in oklab, oklab(47% -.03 -.32), oklab(96% 0 .25))"),e);const t=F(this,w).querySelector('input[type="range"].ch-alp');Y(this,m,me(()=>{const e=x.L.value||"50",n=x.A.value||"0",r=x.B.value||"0";t&&(t.style.background=`linear-gradient(to right in oklab, oklab(${e}% ${n} ${r} / 0%), oklab(${e}% ${n} ${r} / 100%)), var(--checker)`)}))}else if("oklch"===k){const a=$("A","ALP",0,100,1);F(this,h).value&&(a.style.display="none"),F(this,w).append($("L","L",0,100,1,"linear-gradient(in oklab to right, black, white)"),$("C","C",0,100,1,`linear-gradient(in oklch to right, oklch(${null!=(e=M.L)?e:0}% 1% ${null!=(t=M.H)?t:0}), oklch(${null!=(n=M.L)?n:0}% 100% ${null!=(r=M.H)?r:0}))`),$("H","H",0,359,1,"linear-gradient(to right in oklch longer hue, oklch(90% 75% 0), oklch(90% 75% 0))"),a);const o=F(this,w).querySelector('input[type="range"].ch-c'),i=F(this,w).querySelector('input[type="range"].ch-alp');Y(this,m,me(()=>{const e=x.L.value||"0",t=x.C.value||"0",n=x.H.value||"0";o&&(o.style.backgroundImage=`linear-gradient(in oklch to right, oklch(${e}% 1% ${n}deg), oklch(${e}% 100% ${n}deg))`),i&&(i.style.background=`linear-gradient(to right in oklch, oklch(${e}% ${t}% ${n} / 0%), oklch(${e}% ${t}% ${n} / 100%)), var(--checker)`)}))}else if("lab"===k){const e=$("A","ALP",0,100,1);F(this,h).value&&(e.style.display="none"),F(this,w).append($("L","L",0,100,1,"linear-gradient(in lab to right, black, white)"),$("A","A",-160,160,1,"linear-gradient(to right in oklab, lab(85% -100 100), lab(55% 100 100))"),$("B","B",-160,160,1,"linear-gradient(to right in oklab, lab(31% 70 -120), lab(96% 0 120))"),e);const t=F(this,w).querySelector('input[type="range"].ch-alp');Y(this,m,me(()=>{const e=x.L.value||"50",n=x.A.value||"0",r=x.B.value||"0";t&&(t.style.background=`linear-gradient(to right in lab, lab(${e}% ${n} ${r} / 0%), lab(${e}% ${n} ${r} / 100%)), var(--checker)`)}))}else if("lch"===k){const e=$("A","ALP",0,100,1);F(this,h).value&&(e.style.display="none"),F(this,w).append($("L","L",0,100,1,"linear-gradient(in lab to right, black, white)"),$("C","C",0,100,1,`linear-gradient(in lch to right, lch(${null!=(i=M.L)?i:0}% 1% ${null!=(s=M.H)?s:0}), lch(${null!=(l=M.L)?l:0}% 100% ${null!=(c=M.H)?c:0}))`),$("H","H",0,359,1,"linear-gradient(to right in lch longer hue, lch(90% 75% 0), lch(90% 75% 0))"),e);const t=F(this,w).querySelector('input[type="range"].ch-c'),n=F(this,w).querySelector('input[type="range"].ch-alp');Y(this,m,me(()=>{const e=x.L.value||"50",r=x.C.value||"0",a=x.H.value||"0";t&&(t.style.backgroundImage=`linear-gradient(in lch to right, lch(${e}% 1% ${a}), lch(${e}% 100% ${a}))`),n&&(n.style.background=`linear-gradient(to right in lch, lch(${e}% ${r}% ${a} / 0%), lch(${e}% ${r}% ${a} / 100%)), var(--checker)`)}))}else if("hsl"===k){const e=$("A","ALP",0,100,1);F(this,h).value&&(e.style.display="none"),F(this,w).append($("H","H",0,359,1,"linear-gradient(to right in hsl longer hue, hsl(0 100% 50%), hsl(360 100% 50%))"),$("S","S",0,100,1,`linear-gradient(in hsl to right, hsl(${null!=(u=M.H)?u:0} 0% ${null!=(p=M.L)?p:50}% / 100%), hsl(${null!=(d=M.H)?d:0} 100% ${null!=(g=M.L)?g:50}% / 100%))`),$("L","L",0,100,1,`linear-gradient(in oklab to right, hsl(${null!=(f=M.H)?f:0} ${null!=(b=M.S)?b:100}% 0%), hsl(${null!=(v=M.H)?v:0} ${null!=(y=M.S)?y:100}% 100%))`),e);const t=F(this,w).querySelector('input[type="range"].ch-s'),n=F(this,w).querySelector('input[type="range"].ch-l'),r=F(this,w).querySelector('input[type="range"].ch-alp');Y(this,m,me(()=>{const e=x.H.value||"0",a=x.S.value||"100",o=x.L.value||"50";t&&(t.style.backgroundImage=`linear-gradient(in hsl to right, hsl(${e} 0% ${o}% / 100%), hsl(${e} 100% ${o}% / 100%))`),n&&(n.style.backgroundImage=`linear-gradient(in oklab to right, hsl(${e} ${a}% 0%), hsl(${e} ${a}% 100%))`),r&&(r.style.background=`linear-gradient(to right in hsl, hsl(${e} ${a}% ${o}% / 0%), hsl(${e} ${a}% ${o}% / 100%)), var(--checker)`)}))}else if("hwb"===k){const e=$("A","ALP",0,100,1);F(this,h).value&&(e.style.display="none"),F(this,w).append($("H","H",0,359,1,"linear-gradient(to right in hsl longer hue, hsl(0 100% 50%), hsl(360 100% 50%))"),$("W","W",0,100,1,"linear-gradient(to right in oklab, #fff0, #fff)","black"),$("B","B",0,100,1,"linear-gradient(to right in oklab, #0000, #000)","white"),e);const t=F(this,w).querySelector('input[type="range"].ch-alp');Y(this,m,me(()=>{const e=x.H.value||"0",n=x.W.value||"0",r=x.B.value||"0";t&&(t.style.background=`linear-gradient(to right in hwb, hwb(${e} ${n}% ${r}% / 0%), hwb(${e} ${n}% ${r}% / 100%)), var(--checker)`)}))}else if("srgb"===k||"hex"===k){const e=$("A","ALP",0,100,1);F(this,h).value&&(e.style.display="none"),F(this,w).append($("R","R",0,100,1,"linear-gradient(to right in oklab, #f000, #f00)","black"),$("G","G",0,100,1,"linear-gradient(to right in oklab, #0f00, #0f0)","black"),$("B","B",0,100,1,"linear-gradient(to right in oklab, #00f0, #00f)","black"),e);const t=F(this,w).querySelector('input[type="range"].ch-alp');Y(this,m,me(()=>{const e=x.R.value||"0",n=x.G.value||"0",r=x.B.value||"0";t&&(t.style.background=`linear-gradient(to right in srgb, rgb(${e}% ${n}% ${r}% / 0%), rgb(${e}% ${n}% ${r}% / 100%)), var(--checker)`)}))}else if(ar(k)){const e=$("A","ALP",0,100,1);F(this,h).value&&(e.style.display="none"),F(this,w).append($("R","R",0,100,1,"linear-gradient(to right in oklab, #f000, #f00)","black"),$("G","G",0,100,1,"linear-gradient(to right in oklab, #0f00, #0f0)","black"),$("B","B",0,100,1,"linear-gradient(to right in oklab, #00f0, #00f)","black"),e);const t=F(this,w).querySelector('input[type="range"].ch-alp');Y(this,m,me(()=>{const e=x.R.value||"0",n=x.G.value||"0",r=x.B.value||"0";if(t){const a=ir(k,{...M,R:e,G:n,B:r,ALP:"0"}),o=ir(k,{...M,R:e,G:n,B:r,ALP:"100"});t.style.background=`linear-gradient(to right, ${a}, ${o}), var(--checker)`}}))}},customElements.define("color-input",fr),e.ColorInput=fr,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e}({});
//# sourceMappingURL=color-input.min.js.map
